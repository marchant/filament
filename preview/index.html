<!DOCTYPE html>
<html>
    <head>
        <title>Montage Builder - Preview</title>
        <meta charset="utf-8">
        <script src="{$CLIENT}/node_modules/montage/montage.js" data-package="."></script>
        <script src="{$SERVER}/refresh.js"></script>
        <script type="text/montage-serialization">
            {
                "controller": {
                    "prototype": "montage/ui/controller/array-controller",
                    "properties": {
                        "selectObjectsOnAddition": true,
                        "automaticallyOrganizeObjects": true,
                        "content": [
                        ]
                    },
                    "bindings": {
                        "content": {"<-": "@owner.previewList"}
                    }
                },
                "repetition": {
                    "prototype": "montage/ui/repetition.reel",
                    "properties": {
                        "element": {
                            "#": "repetition"
                        },
                        "isSelectionEnabled": true,
                        "contentController": {"@": "controller"},
                        "orientation": "vertical"
                    }
                },

                "link" : {
                   "prototype": "montage/ui/anchor.reel",
                   "properties": {
                       "element": {"#": "link"}
                   },
                   "bindings": {
                       "textContent": {"<-": "@repetition.objectAtCurrentIteration.name"},
                       "href": {"<-": "@repetition.objectAtCurrentIteration.url"}
                   }
                },

                "owner": {
                    "prototype": "preview-home",
                    "properties": {
                    }
                }
            }
        </script>
    </head>
    <body>
    <div class="repetition" data-montage-id="repetition">
        <div class="item">
            <a data-montage-id="link"></a>
        </div>
    </div>
    </body>
</html>
