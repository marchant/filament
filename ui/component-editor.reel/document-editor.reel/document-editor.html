<!doctype html>
<html>
<head>
    <title>DocumentEditor</title>
    <meta charset="utf-8">

    <link href="document-editor.css" rel="stylesheet" />

    <script type="text/montage-serialization">
        {
            "owner": {
                "properties": {
                    "element": {"#": "documentEditor"},
                    "workbench": {"@": "workbench"}
                }
            },

            "refresh": {
                "prototype": "matte/ui/button.reel",
                "properties": {
                    "element": {"#": "refresh"}
                },
                "listeners": [
                    {"type": "action", "listener": {"@": "owner"}}
                ]
            },

            "workbench": {
                "prototype": "palette/ui/workbench.reel",
                "properties": {
                    "element": {"#": "workbench"}
                },
                "listeners": [
                    {"type": "update", "listener": {"@": "selections"}},
                    {"type": "update", "listener": {"@": "highlights"}},
                    {"type": "update", "listener": {"@": "contextualInspectors"}}
                ]
            },

            "selections": {
                "prototype": "palette/ui/selection/selections.reel",
                "properties": {
                    "element": {"#": "selections"}
                },
                "bindings": {
                    "contentComponent": {"<-": "@workbench.editingFrame"},
                    "selectedObjects": {"<-": "@owner.editingDocument.selectedObjects"}
                }
            },

            "highlights": {
                "prototype": "palette/ui/selection/highlights.reel",
                "properties": {
                    "element": {"#": "highlights"}
                },
                "bindings": {
                    "contentComponent": {"<-": "@workbench.editingFrame"},
                    "highlightedElements": {"<-": "@owner.editingDocument.highlightedElements"}
                }
            },

            "contextualInspectors": {
                "prototype": "ui/contextual-inspectors.reel",
                "properties": {
                    "element": {"#": "contextualInspectors"}
                },
                "bindings": {
                    "contextualInspectors": {"<-": "@owner.contextualInspectors"}
                },
                "listeners": [
                    {"type": "select", "listener": {"@": "owner"}}
                ]
            }
        }
    </script>

</head>
<body>

    <div data-montage-id="documentEditor" class="DocumentEditor">
        <header class="Bar">
            <button data-montage-id="refresh" class="Button">Refresh</button>
        </header>
        <div data-montage-id="workbench" class="DocumentEditor-workbench">
            <div data-arg="overlay">
                <div data-montage-id="contextualInspectors"></div>
                <div data-montage-id="selections"></div>
                <div data-montage-id="highlights"></div>
            </div>
        </div>
    </div>

</body>
</html>
